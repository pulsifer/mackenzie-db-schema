-- CREATE SCHEMA datathemes_mackenzie;
CREATE SCHEMA mackenzie_sonde;
CREATE SCHEMA mackenzie_dgt;
CREATE SCHEMA mackenzie_grab;
CREATE SCHEMA mackenzie_pmd;
CREATE SCHEMA lookups;

-- CREATE TABLE IF NOT EXISTS datathemes.metadata (
--     theme_name text,
--     theme_version text,
--     repository text,
--     author text,
--     description text,
--     schemas text,
--     is_published boolean NOT NULL DEFAULT false,
--     datetime_created timestamp DEFAULT now(),
--     datetime_modified timestamp DEFAULT now(),
--     CONSTRAINT themes_meta_pkey PRIMARY KEY (
--         theme_name,
--         is_published) );

CREATE TABLE IF NOT EXISTS mackenzie_sonde.sonde_data (
    upload_id text,
    source_row_index int,
    theme_name text,
    site text,
    date_in timestamp,
    temp numeric,
    sp_cond numeric,
    ph numeric,
    orp numeric,
    turbid numeric,
    chl numeric,
    odo_sat numeric,
    odo numeric,
    is_committed boolean NOT NULL DEFAULT false,
    datetime_created timestamp DEFAULT now(),
    datetime_modified timestamp DEFAULT now(),
    CONSTRAINT sonde_data_pkey PRIMARY KEY (
        upload_id,
        theme_name,
        site,
        is_committed) );

CREATE TABLE IF NOT EXISTS mackenzie_sonde.sonde_metadata (
    upload_id text,
    source_row_index int,
    theme_name text,
    extents text,
    qa_qc text,
    equipment text,
    sampler text,
    lab text,
    depth numeric,
    matrix text,
    related text,
    type text,
    series text,
    comments text,
    is_committed boolean NOT NULL DEFAULT false,
    datetime_created timestamp DEFAULT now(),
    datetime_modified timestamp DEFAULT now(),
    CONSTRAINT sonde_meta_pkey PRIMARY KEY (
        upload_id,
        theme_name,
        matrix,
        is_committed ) );

CREATE TABLE IF NOT EXISTS mackenzie_pmd.pmd_data (
    upload_id text,
    source_row_index int,
    theme_name text,
    lab_id text,
    date_in timestamp,
    date_out timestamp,
    location text,
    cbm_location text,
    count_days int,
    parent_pahs numeric,
    naphthalene numeric,
    biphenyl numeric,
    acenaphthylene numeric,
    acenaphtene numeric,
    fluorene numeric,
    dibenzothiophene numeric,
    phenanthrene numeric,
    anthracene numeric,
    fluoranthene numeric,
    pyrene numeric,
    benz_a_anthracene numeric,
    chrysene numeric,
    benzo_b_fluoranthene numeric,
    benzo_k_fluoranthene numeric,
    benzo_a_pyrene numeric,
    indeno_pyrene numeric,
    dibenzo_a_h_anthracene numeric,
    benzo_perylene numeric,
    total_parent_pahs numeric,
    semi_quant_alkylated_pahs numeric,
    c1_naphthalene numeric,
    c2_naphthalene numeric,
    c3_naphthalene numeric,
    c4_naphthalene numeric,
    c1_fluorene numeric,
    c2_fluorene numeric,
    c3_fluorene numeric,
    c4_fluorene numeric,
    c1_dibenzothiophene numeric,
    c2_dibenzothiophene numeric,
    c3_dibenzothiophene numeric,
    c4_dibenzothiophene numeric,
    c1_phenanthrene_anthracene numeric,
    c2_phenanthrene_anthracene numeric,
    c3_phenanthrene_anthracene numeric,
    c4_phenanthrene_anthracene numeric,
    c1_fluoranthenes_pyrenes numeric,
    c2_fluoranthenes_pyrenes numeric,
    c3_fluoranthenes_pyrenes numeric,
    c4_fluoranthenes_pyrenes numeric,
    c1_chrysene numeric,
    c2_chrysene numeric,
    c3_chrysene numeric,
    c4_chrysene numeric,
    is_committed boolean NOT NULL DEFAULT false,
    datetime_created timestamp DEFAULT now(),
    datetime_modified timestamp DEFAULT now(),
    CONSTRAINT pmd_data_pkey PRIMARY KEY (
        upload_id,
        theme_name,
        lab_id,
        cbm_location,
        date_in,
        date_out,
        is_committed) );

CREATE TABLE IF NOT EXISTS mackenzie_pmd.pmd_metadata (
    upload_id text,
    source_row_index int,
    theme_name text,
    title text,
    extents text,
    citations text,
    keywords text,
    format text,
    description text,
    link numeric,
    date_uploaded timestamp,
    is_committed boolean NOT NULL DEFAULT false,
    datetime_created timestamp DEFAULT now(),
    datetime_modified timestamp DEFAULT now(),
    CONSTRAINT pmd_meta_pkey PRIMARY KEY (
        upload_id,
        theme_name ) );

CREATE TABLE IF NOT EXISTS mackenzie_grab.grab_data (
    upload_id text,
    source_row_index int,
    theme_name text,
    site text,
    date_in timestamp,
    sample_type text,
    month_code int,
    waterbody_type text,
    waterbody_name text,
    region text,
    ammonia_as_nitrogen numeric,
    nitrogen_dissolved numeric,
    nitrogen_total numeric,
    organic_carbon_dissolved numeric,
    organic_carbon_total numeric,
    phosphorous_dissolved numeric,
    phosphorous_total numeric,
    alkalinity_total numeric,
    conductivity_specific numeric,
    ph numeric,
    solids_total_dissolved numeric,
    solids_total_suspended numeric,
    turbidity numeric,
    calcium numeric,
    chloride numeric,
    floride numeric,
    magnesium numeric,
    nitrate_as_nitrogen numeric,
    nitrite_as_nitrogen numeric,
    potassium numeric,
    sodium numeric,
    sulphate numeric,
    chlorophyll_a numeric,
    aluminum_dissolved numeric,
    antimony_dissolved numeric,
    arsenic_dissolved numeric,
    barium_dissolved numeric,
    beryllium_dissolved numeric,
    cadmium_dissolved numeric,
    cesium_dissolved numeric,
    chromium_dissolved numeric,
    cobalt_dissolved numeric,
    copper_dissolved numeric,
    iron_dissolved numeric,
    lead_dissolved numeric,
    lithium_dissolved numeric,
    manganese_dissolved numeric,
    mercury_dissolved numeric,
    molybdenum_dissolved numeric,
    nickel_dissolved numeric,
    rubidium_dissolved numeric,
    selenium_dissolved numeric,
    silver_dissolved numeric,
    strontium_dissolved numeric,
    thallium_dissolved numeric,
    titanium_dissolved numeric,
    uranium_dissolved numeric,
    vanadium_dissolved numeric,
    zinc_dissolved numeric,
    aluminum_total numeric,
    antimony_total numeric,
    arsenic_total numeric,
    barium_total numeric,
    beryllium_total numeric,
    cadmium_total numeric,
    cesium_total numeric,
    chromium_total numeric,
    cobalt_total numeric,
    copper_total numeric,
    iron_total numeric,
    lead_total numeric,
    lithium_total numeric,
    manganese_total numeric,
    mercury_total numeric,
    molybdenum_total numeric,
    nickel_total numeric,
    rubidium_total numeric,
    selenium_total numeric,
    silver_total numeric,
    strontium_total numeric,
    thallium_total numeric,
    titanium_total numeric,
    uranium_total numeric,
    vanadium_total numeric,
    zinc_total numeric,
    ultra_trace_mercury_dissolved numeric,
    ultra_trace_mercury_total numeric,
    hardness_calculated numeric,
    temperature numeric,
    is_committed boolean NOT NULL DEFAULT false,
    datetime_created timestamp DEFAULT now(),
    datetime_modified timestamp DEFAULT now(),
    CONSTRAINT grab_data_pkey PRIMARY KEY (
        upload_id,
        theme_name,
        site,
        sample_type,
        date_in,
        is_committed) );

CREATE TABLE IF NOT EXISTS mackenzie_grab.grab_metadata (
    upload_id text,
    source_row_index int,
    theme_name text,
    title text,
    extents text,
    citations text,
    keywords text,
    format text,
    description text,
    link numeric,
    date_uploaded timestamp,
    is_committed boolean NOT NULL DEFAULT false,
    datetime_created timestamp DEFAULT now(),
    datetime_modified timestamp DEFAULT now(),
    CONSTRAINT grab_meta_pkey PRIMARY KEY (
        upload_id,
        theme_name ) );

CREATE TABLE IF NOT EXISTS lookups.themes (
    theme_id varchar NOT NULL,
    description text,
    user_id int4,
    name varchar
);

BEGIN;
INSERT INTO lookups.themes VALUES ('sonde', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.', null, 'Sonde Data Theme');
INSERT INTO lookups.themes VALUES ('dgt', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer suscipit purus at lobortis finibus. Ut eget dolor in tortor ultrices elementum sit amet eu nunc. Morbi ut nisi diam. Vivamus.', null, 'DGT Data Theme');
INSERT INTO lookups.themes VALUES ('pmd', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.', null, 'PMD Data Theme');
INSERT INTO lookups.themes VALUES ('grab', 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.', null, 'Grab Data Theme');
COMMIT;

